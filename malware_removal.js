"use strict";
const acceptable_chrs = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z']

function random_text(length){
    let text = "";
    while(text.length <= length){
        text += acceptable_chrs[Math.round(Math.random()*acceptable_chrs.length)]
    }
    return text;
}

/*
    What is the point of this?
    Some malware will block antimalware setup programs by their filename
    so this alters all download links *on this page* (clearly not elsewhere)
    to download randomly named files
*/
document.querySelectorAll("random_download").forEach(element => {
    element.download = random_text(5) + '.' + element.dataset.filetype;
});
