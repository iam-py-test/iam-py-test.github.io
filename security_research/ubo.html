<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Can I detect your adblocker?</title>
    <meta charset="UTF-8">
  </head>
  <body>
<p class="ADBox">This is an ad - if you see it, something is wrong</p>
<p id="easylist">Easylist not detected</p>
    <p id="req">Unknown</p>
<script>
  window.onload = function(){
  console.log(getComputedStyle(document.querySelectorAll('.ADBox')[0]).display)
  if(getComputedStyle(document.querySelectorAll('.ADBox')[0]).display === 'none' || document.querySelectorAll(".ADBox")[0].parentElement === null){
    document.getElementById("easylist").textContent = "Easylist detected"
  }
  }
  fetch("/favicon.jpg?t=0&ad_url=00000&adclient=fakead").then(function(){
    document.getElementById('req').textContent = "Easylist blocking not detected"
  }).catch(function(){
    document.getElementById("req").textContent = "Easylist blocking detected"
  })
</script>
    <div>
      This page is a POC for exploiting Easylist's <code>##.ADBox</code> rule being applied to all pages.
    </div>
  </body>
