<!DOCTYPE html>
<!--todo: make this accessibility-friendly-->
<html lang='en-US'>
  <head>
    <title>Detecting Private Browsing mode</title>
    <meta charset="UTF-8">
  </head>
  <body>
    <div id='result'>Test not run</div>
    <script>var db = indexedDB.open("test_" + Math.round(Math.random()*90000)+"_"+ Math.round(Math.random()*90000));
db.onerror = function(){document.getElementById('result').textContent = 'Detected private browsing'};
db.onsuccess =function(){document.getElementById('result').textContent = 'Did not detect private browsing'};
    </script>
  </body>
</html>
